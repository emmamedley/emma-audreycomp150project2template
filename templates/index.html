<!DOCTYPE html>
<html>
<head>
  <title>Magic 8 Ball - Mood Music</title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>
  <!-- Canvas for the star explosion effect -->
  <canvas id="explosionCanvas" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 10;"></canvas>

  <div class="container">
    <h1>Magic 8 Ball - Mood Music</h1>
    <p>Shake the Magic 8 Ball to discover your mood and get a song recommendation!</p>
    
    <!-- Custom adjective input section -->
    <div class="custom-mood-input">
      <label for="customAdjective">Or enter your own mood:</label>
      <input type="text" id="customAdjective" placeholder="e.g., dreamy, melancholic, upbeat">
      <button id="customMoodBtn" class="custom-mood-button">Get Song</button>
    </div>
    
    <!-- Personalization toggle -->
    <div class="personalization-toggle">
      <input type="checkbox" id="personalizedToggle" checked>
      <label for="personalizedToggle">Personalize recommendations based on my listening history</label>
      <div class="tooltip">
        <span class="tooltip-icon">?</span>
        <span class="tooltip-text">When enabled, recommendations will be based on your Spotify listening history combined with your mood selection.</span>
      </div>
    </div>
    
    <div class="eight-ball" id="magicBall">
      <div class="eight-ball-inner">
        <span id="ballEight">8</span>
      </div>
    </div>
    
    <div class="answer-container">
      <p id="answer">Shake the Magic 8 Ball for a mood and song recommendation...</p>
    </div>
    
    <div id="moodResult" class="mood-result">
      <!-- Random mood will appear here -->
    </div>
    
    <div id="songRecommendation" class="song-recommendation">
      <!-- Song recommendation will appear here -->
    </div>
    
    <div class="spotify-section">
      <button id="spotifyConnectBtn" class="spotify-button">
        <img src="https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_Green.png" alt="Spotify Logo" class="spotify-logo">
        Connect to Spotify
      </button>
      <div id="spotifyStatus" class="spotify-status"></div>
    </div>
  </div>
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>